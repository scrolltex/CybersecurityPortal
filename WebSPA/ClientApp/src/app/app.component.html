<mat-progress-bar
  class="loading-bar mat-elevation-z4"
  mode="determinate"
  [value]="val"
  *ngIf="loader.value$ | async as val"
></mat-progress-bar>

<mat-toolbar class="app-toolbar mat-elevation-z4" color="primary">
  <mat-toolbar-row>
    <button mat-icon-button (click)="drawer.toggle()"><mat-icon>menu</mat-icon></button>
    <span><a class="title" routerLink="/">Cybersecurity Portal</a></span>
    <div class="spacer"></div>
    <app-theme-toggle></app-theme-toggle>
    <a mat-icon-button routerLink="/search" matTooltip="Поиск"><mat-icon>search</mat-icon></a>
    <a mat-icon-button routerLink="/article/new" matTooltip="Создать"><mat-icon>create</mat-icon></a>
    <img class="avatar" [appGravatar]="'user@example.com'" />
  </mat-toolbar-row>
</mat-toolbar>

<mat-drawer-container class="drawer-container">
  <mat-drawer #drawer class="drawer" mode="side" opened>
    <mat-nav-list>
      <a mat-list-item [routerLink]="['/all']" routerLinkActive="active">Все подряд</a>
      <h3 matSubheader>Категории</h3>
      <a
        mat-list-item
        *ngFor="let item of categories$ | async"
        [routerLink]="['/', 'category', item.id]"
        routerLinkActive="active"
        >{{ item.name }}</a
      >
    </mat-nav-list>
  </mat-drawer>
  <mat-drawer-content>
    <router-outlet></router-outlet>
  </mat-drawer-content>
</mat-drawer-container>
